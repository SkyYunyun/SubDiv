args=commandArgs(T)
input=args[1]
out_class=args[2]
out_dendrogram=args[3]
library(factoextra)
rawdata<-read.table(input,header=T,row.names=1)
scalerawdata<-scale(rawdata)
tscalerawdata<-t(scalerawdata)
km<-kmeans(tscalerawdata,2,nstart=30)
write.table(km$cluster,file='kmeans_cluster_res.txt')
pdf(out_class,colormodel="cmyk")
fviz_cluster(km,data=tscalerawdata,ellipse.type="euclid",star.plot=TRUE,repel=TRUE)
dev.off()
tscalerawdatadist=dist(tscalerawdata,method="euclidean")
tscalerawdatadist_hc=hclust(d=tscalerawdatadist,method="ward.D2")
pdf(out_dendrogram,colormodel="cmyk")
fviz_dend(tscalerawdatadist_hc,k=2,rect=TRUE,color_labels_by_k=TRUE)
dev.off()
